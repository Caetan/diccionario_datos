1. INTRODUCCIÓN

  Este trabajo realizado por los alumnos Alexandre Velo Santórum y Caetán Tojeiro Carpente como solución de la Práctica 3 de la asignatura de Algoritmos, presenta un estudio del número de colisiones que se producen al insertar los datos de un fichero dado con 19062 elementos. Este estudio se realiza para 2 funciones de dispersión dadas, llamadas dispersión A y dispersión B, y para dos estrategias de resolución de colisiones implementadas distintas, una lineal y otra cuadrática.

  Se parte de unas definiciones de las funciones a implementar dadas, y dichas funciones se desarrollan en el lenguaje de programación C.
  A continuación, se valida el correcto funcionamiento de dichas funciones implementadas. Esta comprobación se realiza mediante 2 test, uno para cada una de las estrategias de resolución de colisiones, y con una función de dispersión dada para estos test, llamada ndispersion.
  Por último, se hace un estudio de las colisiones producidas al insertar los datos del fichero 'sinonimos.txt' con las mencionadas funciones de dispersión y cada una de las estrategias de resolución de colisiones implementadas, y se analizan los tiempos que han sido arrojados para la búsqueda de un número creciente de elementos. 


2. HARDWARE

  Las características técnicas de la máquina en la que se han ejecutado los algoritmos y sus pruebas son las siguientes:

  - CPU: Intel Core i7-4790K 4.00GHz
  - Sistema Operativo: Ubuntu 14.04 LTS 64 bits
  - Memoria RAM: Kingston HyperX Fury Black DDR3 1866MHz de 16GB, con 2 módulos de 8GB CL10
  - Disco Duro: WD Blue 1TB SATA3 a 7200rpm con Buffer 64 MB Cache



3. COLISIONES

  Las colisiones que se producen al insertar todos los datos del fichero dado 'sinonimos.txt', varían según la estrategia escogida para dichas inserciones, es decir, el número de colisiones que provoca la elección de una dispersión u otra es distinto, como distinto también es el número de colisiones que se producen al elegir una resolución de colisiones lineal o una cuadrática.

  	3.1 - Dispersión A con resolución de colisiones lineal

  	 Las colisiones que se producen al elegir la función de dispersión A con un algoritmo de resolución de colisiones lineal es de 170605914. El mayor de todos.

  	3.2 - Dispersión A con resolución de colisiones cuadrática

  	 El número de colisiones producidas al insertar todos los datos escogiendo la función de dispersión A con una resolución de colisiones cuadrática es de 1690964.

  	3.3 - Dispersión B con resolución de colisiones lineal

  	 Las colisiones producidas escogiendo la función de dispersión B y una resolución de colisiones lineal es de 16965.

  	3.4 - Dispersión B con resolución de colisiones cuadrática

  	 Las colisiones que se producen con la función de dispersión B y una resolución de colisiones cuadrática es de 13366. La menor cantidad de todas.



4. UNIDADES DE TIEMPO

  Las unidades de tiempo en las que se presentan los resultados obtenidos con las ejecuciones de las búsquedas son microsegundos.
  Como mínimo, los resultados se presentan con 3 cifras significativas.



5. ESTUDIO DE LOS RESULTADOS

  Las sucesivas ejecuciones de la función de búsqueda se realizan siguiendo una progresión geométrica del número de elementos a buscar. Si se le llama n a la cantidad de elementos buscados para cada una de las funciones de dispersión y cada uno de los algoritmos de resolución de colisiones, los valores para los que se ha obtenido un tiempo de ejecución son: n=125, n=250, n=500, n=1000, n=2000, n=4000 y n=8000. En otras palabras, el tamaño de las entradas de cada tabla sigue una progresión geométrica de razón dos, empezando en 125 y con 6 saltos.

  Para el estudio que se realiza a continuación se han generado 4 tablas de cada una de las funciones de dispersión junto con los algoritmos de resolución de colisiones mencionados anteriormente. Se ha realizado la ejecución 2 veces consecutivas con el comando "./p3 ; ./p3" y se han seleccionado como medidas a analizar las tablas con mejores tiempos.

  Seguidamente se muestran las tablas elegidas para el estudio a desarrollar:

    ***Dispersion cerrada lineal con dispersionA 
      Insertando 19062 elementos...   Numero de colisions: 170605914
      Buscando n elementos...

             n           t(n)        t(n)/n^0.8       t(n)/n     t(n)/(n*(log(n)))

           125      12564.000    263.997562676  100.512000000   20.817205647
           250      26357.000    318.085571405  105.428000000   19.094221904
           500      57340.000    397.449253065  114.680000000   18.453295555
          1000     108807.000    433.168469064  108.807000000   15.751426564
          2000     204665.000    467.971692264  102.332500000   13.463203948
          4000     400741.000    526.278689432  100.185250000   12.079171737
          8000     784523.000    591.743765259   98.065375000   10.911675460

--------------------------------------------------------------------------------------------
Intervalo cota ajustada para una dispersión cerrada lineal con dispersión A: 103,068291667
--------------------------------------------------------------------------------------------



    ***Dispersion cerrada cuadratica con dispersionA 
      Insertando 19062 elementos...   Numero de colisions: 1690964
      Buscando n elementos...

             n           t(n)        t(n)/n^0.9       t(n)/n            t(n)/n^1.1

           125        171.544 *    2.224111322    1.372352000    0.846787656
           250        324.147 *    2.252143187    1.296588000    0.746462503
           500        616.000      2.293547338    1.232000000    0.661780106
          1000       1193.000      2.380347942    1.193000000    0.597916370
          2000       2387.000      2.552262990    1.193500000    0.558109511
          4000       4745.000      2.718831072    1.186250000    0.517571348
    **    8000      13772.000      4.228789094    1.721500000    0.700806350

--------------------------------------------------------------------------------------------
Intervalo cota ajustada para una dispersión cerrada cuadrática con dispersión A: 1,190916667
--------------------------------------------------------------------------------------------



    ***Dispersion cerrada lineal con dispersionB 
      Insertando 19062 elementos...   Numero de colisions: 16965
      Buscando n elementos...

             n           t(n)        t(n)/n^0.7   t(n)/n^0.9     t(n)/(n*(log(n)))

           125         15.277 *    0.520236800    0.198070167    0.025312357
           250         32.176 *    0.674487720    0.223555853    0.023309773
           500         57.747 *    0.745161527    0.215008893    0.018584277
          1000        108.778 *    0.864054367    0.217040644    0.015747228
          2000        191.929 *    0.938468292    0.205217128    0.012625409
          4000        341.859 *    1.028975476    0.195881322    0.010304345
          8000        663.000      1.228430349    0.203578795    0.009221452

--------------------------------------------------------------------------------------------
Intervalo cota ajustada para una dispersión cerrada lineal con dispersión B: 0,208612189
--------------------------------------------------------------------------------------------



    ***Dispersion cerrada cuadratica con dispersionB 
      Insertando 19062 elementos...   Numero de colisions: 13366
      Buscando n elementos...

             n           t(n)        t(n)/n^0.8   t(n)/n^0.9     t(n)/(n*(log(n)))

           125         12.931 *    0.271709048    0.167653684    0.021425285
           250         28.907 *    0.348859871    0.200843146    0.020941559
           500         60.437 *    0.418915949    0.225024546    0.019449979
          1000        111.015 *    0.441958675    0.221504046    0.016071067
          2000        198.837 *    0.454645823    0.212603400    0.013079828
          4000        347.765 *    0.456707221    0.199265393    0.010482364
          8000        655.000      0.494048188    0.201122339    0.009110182

--------------------------------------------------------------------------------------------
Intervalo cota ajustada para una dispersión cerrada cuadrática con dispersión B: 0,21112428
--------------------------------------------------------------------------------------------

	
	* ver apartado 5.4
    ** ver apartado 5.5


	5.1 - Cotas ajustadas

	  	Para la dispersión cerrada lineal con dispersión A se puede establecer una cota ajustada en torno al intervalo de 103,068291667 para elementos desordenados. En cambio, para la dispersión cerrada cuadrática con dispersión A, se estable en torno al intervalo de 1,190916667. Esta cota ajustada se realiza mediante la función t(n)/n cuando n tiende a infinito para los tiempos de dispersión cerrada lineal y cuadrática con dispersión A
	  	Por otro lado, la dispersión cerrada lineal con dispersión B ha sido acotado de manera ajustada tanto para la dispersión cerrada lineal como para la dispersión cerrada cuadrática, ambas con dispersión B y ajustadas por la función t(n)/(n^0.9), que oscila en un intervalo en torno al 0,208612189 para la dispersión cerrada lineal y de 0,21112428 para la dispersión cerrada cuadrática.
	  	Los intervalos han sido calculados promediando las mediciones de tiempo para las entradas de cada tabla con valores de n=1000, n=2000 y n=4000.


	5.2 - Cota subestimada

	  	Como cota subestimada se ha utilizado la función t(n)/(n^0.8) para la dispersión cerrada lineal con dispersión A como para la dispersión cerrada cuadrática con dispersión B 
	  	En cuanto a la función que acota inferiormente los resultados de la dispersión cerrada cuadrática con dispersión A se ha utilizado la función t(n)/(n^0.9), mientras que la función t(n)/(n^0.7) es la elegida para acotar los tiempos de la dispersión cerrada lineal con dispersión B.

	  	Estas funciones tienden a infinito cuando n tiende a infinito, por ser la cota subestimada.


	5.3 - Cota sobrestimada

	  	La función utilizada para acotar superiormente los resultados de búsqueda de elementos desordenados es t(n)/(n*(log(n))) excepto para la dispersión cerrada cuadrática con dispersión A, en este caso la función elegida para acotar los tiempos es t(n)/(n^1.1).

	  	Estas funciones tienden a cero cuando n tiende a infinito, por ser la cota sobrestimada.


  	5.4 - Complejidad de búsqueda

	    Cabe mencionar que se están buscando elementos situados en posiciones pseudoaleatorias, con el fin de obtener unos resultados más reales, ya que en caso de buscar los n primeros elementos del diccionario, los tiempos de búsqueda serían notablemente inferiores.

	    De manera empírica, para la dispersión A se puede comprobar que si se buscan los n primeros elementos del diccionario, los tiempos son mucho menores que el tiempo medio de la búsqueda de elementos en posiciones pseudoaleatorias o la búsqueda en las últimas posiciones, cuyo tiempo es el mayor de todos. Sin embargo, los resultados obtenidos con la dispersión B no responden al patrón anterior, puesto que, aunque la búsqueda de los n primeros elementos siga siendo la más eficiente, ahora son los n último elementos los que obtienen un menor tiempo de búsqueda que los pseudoaleatorios, siendo incluso parejos con los tiempos de búsqueda de los n primeros elementos.

	    Esto se explica fácilmente, ya que la implementación de la función de dispersión A, va recorriendo desde el principio todos los elementos de la lista hasta encontrar el solicitado, por lo tanto, si los elementos a buscar son los últimos, se está en el peor caso, puesto que el elemento a buscar siempre será el elemento más alejado del principio que no ha sido encontrado todavía. Por otro lado, buscando los n primeros elementos, se está en el mejor caso, puesto que todos los elementos que está recorriendo la función, son elementos a encontrar. El caso de elementos en posiciones pseudoaleatorias, la explicación de que el tiempo sea, "apróximadamente", una media entre el mejor caso y el peor caso, para un número suficientemente grande de ejecuciones, es trivial.

	    Se puede concluir, por lo tanto, que la complejidad de la función de búsqueda varía en función de la posición de los elementos a buscar. Para la función de dispersión A, la complejidad de búsqueda de los n primeros elementos es la menor de todas, mientras que la mayor complejidad corresponde a la búsqueda de los n últimos elementos.
	    Para la función de dispersión B, la complejidad de búsqueda mayor corresponde a los elementos en posiciones pseudoaleatorias, mientras que la menor complejidad sigue siendo la de la búsqueda de los n primeros elementos.
    


	5.5 - Estudio de los bucles

	  	Las entradas de la tabla marcadas con el distintivo * indican que la medición del tiempo arrojado en un primer momento fue menor a un tiempo t de 500 microsegundos, por lo tanto se realiza un procedimiento especial para dicha medición que consiste en la ejecución de la búsqueda repetidamente un número K de veces siendo siempre K una potencia de 10. 
	  	En los 4 casos estudiados, se ha trabajado con K=1000. A continuación, se hace un promedio de las K medidas tomadas para dar un resultado más ajustado del tiempo de ejecución de la búsqueda. 


	5.6 - Mediciones anómalas

	    La medida obtenida no cumple la cota sobrestimada de la medida de tiempo de la dispersión A con una estrategia de resolución de colisiones cuadrática. Cabe mencionar también que para valores de elementos a búsqueda bajo o altos, en este caso, para n=125 y n=8000, las valores de las cotas subestimadas y sobrestimadas tienen un salto significativamente mayor que el resto. Lo mismo acontence con la cota ajustada, la cual se escapa de los valores esperados.



6. CONCLUSIONES

  - Función de dispersión A con resolución de colisiones lineal: Ofrece unos tiempos de búsqueda tremendamente altos, además de un número de colisiones desorbitado. Es la combinación más ineficiente.

  - Función de dispersión A con resolución de colisiones cuadrática: Presenta unos tiempos de búsqueda mucho más bajos que la anterior, así como notablemente más bajas son el número de colisiones que se producen al insertar.

  - Función de dispersión B con resolución de colisiones lineal: Se obtienen unos tiempos de búsqueda bastante inferiores a la anterior combinación, al igual que el número de colisiones.

  - Función de dispersión B con resolución de colisiones cuadrática: Es la combinación más eficiente de todas, con el menor tiempo de búsqueda de elementos y el menor número de colisiones al insertar.


  En un contexto de puesta en común de todas las estrategias, la conclusión que arroja este trabajo es que la función de dispersión A dada, ofrece unos resultados notablemente peores que la dispersión B bajo una estrategia de resolución de colisiones común. Para ambas funciones de dispersión, también son obtenidos unos resultados mejores utilizando una estrategia de resolución de colisiones cuadrática a una estrategia lineal.
  Por último, en lo tocante al número de colisiones, la función de dispersión A ofrece unos resultados mucho peores que la función de dispersión B, siendo además la estrategía de resolución de colisiones lineal pésima para esta función de dispersión A. En cuanto a la función de dispersión B, una resolución de colisiones cuadrática ofrece también unos mejores resultados que una resolución de colisiones lineal, pero las diferencias entre ellas no son tan notables como en la función de dispersión A.